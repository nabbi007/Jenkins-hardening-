jenkins:
  systemMessage: "Jenkins configured via Configuration as Code (JCasC)"
  numExecutors: 2
  mode: NORMAL
  scmCheckoutRetryCount: 3
  
  globalNodeProperties:
    - envVars:
        env:
          - key: AWS_REGION
            value: "eu-west-1"
          - key: BACKEND_ECR_REPO
            value: "backend-service"
          - key: FRONTEND_ECR_REPO
            value: "frontend-web"
          - key: ECS_CLUSTER_NAME
            value: "voting-cluster"
          - key: ECS_SERVICE_NAME
            value: "voting-app"
          - key: ECS_TASK_FAMILY
            value: "voting-app"
          - key: ECS_TASK_CPU
            value: "512"
          - key: ECS_TASK_MEMORY
            value: "1024"
          - key: BACKEND_LOG_GROUP
            value: "/ecs/voting-app/backend"
          - key: FRONTEND_LOG_GROUP
            value: "/ecs/voting-app/frontend"
          - key: TRIVY_SEVERITIES
            value: "HIGH,CRITICAL"
          - key: ECR_LIFECYCLE_MAX_IMAGES
            value: "30"
          - key: ECS_TASKDEF_KEEP_REVISIONS
            value: "15"

credentials:
  system:
    domainCredentials:
      - credentials:
          - aws:
              credentialsProvider:
                awsSecretsManagerCredentialsProvider:
                  client:
                    credentialsProvider: "instanceProfile"
                    region: "eu-west-1"
                  filters:
                    - tag:
                        key: "jenkins:credentials:type"
                        value: "string"

unclassified:
  location:
    url: "http://54.195.1.105:8080/"
    adminAddress: "illiau.abubakar@amalitech.com"

security:
  gitHostKeyVerificationConfiguration:
    sshHostKeyVerificationStrategy: "noHostKeyVerificationStrategy"
